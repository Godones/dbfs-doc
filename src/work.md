# 工作内容

本文基于一个 key-value 类型的数据库 jammdb，设计并实现了一个数据库文件系统 (database file system,DBFS) 。本文在一个自己编写的类 linux 操作系统 Alien OS内核中移植了 DBFS，DBFS 支持标准的文件系统操作，以及其他有用的扩展，如扩展属性、ACL、事务接口。同时本文为 DBFS 实现了 linux 的 fuse 用户态接口，使其可以运行于 linux 系统上并与其它文件系统进行对比。为了实现 DBFS，本文抽象了数据库 jammdb 的底层接口，并为 DBFS 实现了一层操作系统无关的接口。DBFS 的基本操作是键值对的插入删除，而不是位图和分配表等低级对象，因此它很容易扩展；DBFS 围绕其文件系统操作使用了数据库事务，这确保了 DBFS 操作的可靠性。DBFS 还将事务 API 导出到用户级进程，允许用户原子地完成数据的存储.

总的来说，本项目总共会包含以下几个项目:
1. Alien: 使用 rust 实现的简单操作系统，验证将数据库文件系统移植到操作系统内核的可能性；
2. jammdb: key-value 数据库，本文选择使用的数据库；
3. rvfs: 基于 Rust 编写的 vfs 框架，主要参考 linux 中的 vfs, 用在 Alien OS 中;
4. dbfs: 本文设计实现的数据库文件系统，同时包含了用户态 fuse 实现；
5. dbop: 数据库操作抽象，一种在操作系统中导出数据库接口的方法； 

