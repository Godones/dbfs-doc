# 顺序读写测试


## 顺序写测试

操作: 打开文件并持续向文件内写入1MB大小的数据，统计时间

现象:

两者没有差距，有时候dbfs会优于fat32一点点。

## 顺序读测试

操作：打开文件先持续写入1MB大小的数据，再持续读取1MB大小的数据

现象：dbfs会是fat32的4倍状态

## 问题：为什么会这样？

对于上面两个测试，在理论上来说，不管是读还是写，都是在缓存中操作的，应该来说，在顺序读上两者差异也不会很大，但是这里却发生了几倍的差距。而且结果显示了fat32的顺序读写性能相差不大。

那就是说，fat32在两种测试中都会表现出较差的性能，在顺序写的过程中，dbfs会带来较大的开销，从而导致这个开销与fat32的开销差不多，所以两者在写操作中的性能会相差不大，但是在读测试中，dbfs不会带来大的开销，而fat32仍然会与写一样有较大的开销，因此在读上dbfs会更优。

**fat32的开销应该来自于其频繁读写数据，seek操作。**
